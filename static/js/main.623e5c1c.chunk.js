(this["webpackJsonpthe-star-wars-react"]=this["webpackJsonpthe-star-wars-react"]||[]).push([[0],{50:function(e,t,n){e.exports={conteiner:"Details_conteiner__3CfXd"}},51:function(e,t,n){e.exports={conteiner:"Movie_conteiner__3OBwt"}},52:function(e,t,n){e.exports={conteiner:"App_conteiner__1Rp_J"}},59:function(e,t,n){e.exports=n(87)},85:function(e,t,n){},86:function(e,t,n){},87:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(9),i=n.n(o),c=n(29),s=n(30),l=n(35),u=n(34),m=n(16),h=n.n(m),v=n(24),d=n(36),p=n.n(d);p.a.defaults.baseURL="https://swapi.dev/api/";var f=function(){return Object(v.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.a.get("films/?format=json").then((function(e){return e.data.results}));case 3:return t=e.sent,e.abrupt("return",t);case 7:throw e.prev=7,e.t0=e.catch(0),console.log(e.t0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))()},g=function(e){return Object(v.a)(h.a.mark((function t(){var n;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,p.a.get("people/".concat(e,"?format=json")).then((function(e){return e.data}));case 3:return n=t.sent,console.log(n),t.abrupt("return",n);case 8:throw t.prev=8,t.t0=t.catch(0),console.log(t.t0),t.t0;case 12:case"end":return t.stop()}}),t,null,[[0,8]])})))()},E=n(119),M=n(125),S=Object(E.a)((function(e){return{root:{"& > *":{margin:e.spacing(1)},"& .MuiButton-containedPrimary":{color:"#151515",backgroundColor:"#EEDB00"}}}}));function y(e){var t=e.name,n=e.toggleSortMovies,a=S();return r.a.createElement("div",{className:a.root},r.a.createElement(M.a,{variant:"contained",color:"primary",href:"#contained-buttons",onClick:n},t))}var w=n(124),O=Object(E.a)((function(e){return{root:{"& > *":{margin:e.spacing(1),width:"20ch"},"& .MuiFormLabel-root":{fontFamily:"PollerOne"},"& .MuiInputBase-input":{fontFamily:"PollerOne"},"& .Mui-focused":{color:"#EEDB00"},"& .MuiOutlinedInput-root.Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:"#EEDB00"}}}}));function b(e){var t=e.handleSubmit,n=e.placeholder,a=e.value,o=e.handleChange,i=O();return r.a.createElement("form",{className:i.root,noValidate:!0,autoComplete:"off",onClick:t},r.a.createElement(w.a,{id:"outlined-basic",variant:"outlined",value:a,autoFocus:!0,label:n,onChange:o}))}var C=function(e){var t=e.handleChange,n=e.handleSubmit,o=e.searchQuery,i=e.toggleSortMovies;return r.a.createElement(a.Fragment,null,r.a.createElement(b,{handleSubmit:n,handleChange:t,value:o,placeholder:"Enter movie name"}),r.a.createElement(y,{name:"Sort",toggleSortMovies:i}))},k=n(123),_=n(88),D=Object(E.a)((function(e){return{root:{"& > * + *":{marginLeft:e.spacing(12)},"& .MuiTypography-colorPrimary":{color:"#EEDB00"}}}}));function I(e){var t=e.name,n=e.id,a=D();return r.a.createElement(_.a,{className:a.root},r.a.createElement(k.a,{href:"#",id:n},t))}var j=n(50),F=n.n(j),L=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={characters:[]},e}return Object(s.a)(n,[{key:"componentDidMount",value:function(){this.findMovieCharacters()}},{key:"findMovieCharacters",value:function(){var e=Object(v.a)(h.a.mark((function e(){var t,n,a,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.charactersFromSelectedMovie,n=t.flat(),a=n.map((function(e){return e.replace("http://swapi.dev/api/people/","")})),e.next=5,Promise.all(a.map((function(e){return g(e)})));case 5:r=e.sent,this.setState({characters:r});case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props.targetMovie,t=this.state.characters;return r.a.createElement(a.Fragment,null,e.map((function(e){return r.a.createElement("div",{className:F.a.font,key:e.episode_id},r.a.createElement("h2",null,e.title),r.a.createElement("p",null,"description: ",e.opening_crawl),r.a.createElement("div",null,r.a.createElement("p",null,r.a.createElement("span",null,"director: "),e.director),r.a.createElement("p",null,r.a.createElement("span",null,"producer: "),e.producer),r.a.createElement("p",null,r.a.createElement("span",null,"release date: "),e.release_date),r.a.createElement("p",null,r.a.createElement("span",null,"characters: ")),r.a.createElement("p",null,r.a.createElement("span",null),t.map((function(e){return r.a.createElement("span",{key:e.url},e.name,", ")})))))})))}}]),n}(a.Component),Q=function(e){var t=e.movies,n=e.foundMovies,a=e.handleOpenItem,o=e.isOpen,i=e.movieID,c=e.targetMovie,s=e.charactersFromSelectedMovie;return r.a.createElement("ul",null,0===n.length?t.map((function(e){return r.a.createElement("li",{key:e.episode_id,onClick:a},r.a.createElement(I,{id:e.episode_id,isOpen:o,handleOpenItem:a,name:e.title}),i===e.episode_id&&r.a.createElement(L,{movieID:i,charactersFromSelectedMovie:s,targetMovie:c}))})):n.map((function(e){return r.a.createElement("li",{key:e.episode_id,onClick:a},r.a.createElement(I,{id:e.episode_id,isOpen:o,handleOpenItem:a,name:e.title}),i===e.episode_id&&r.a.createElement(L,{movieID:i,charactersFromSelectedMovie:s,targetMovie:c}))})))},x=n(51),B=n.n(x),N=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={movies:[],searchQuery:"",foundMovies:[],isSorted:!1,sortedMovies:[],isOpen:!1,movieID:[],targetMovie:[],charactersFromSelectedMovie:[]},e.searchMovies=function(t){f(t).then((function(t){return e.setState({movies:t})}))},e.toggleSortMovies=function(){e.sortMovies()},e.handleChange=function(t){e.setState({searchQuery:t.target.value})},e.handleSubmit=function(t){t.preventDefault(),""!==e.state.searchQuery&&e.state.searchQuery},e.handleOpenItem=function(t){t.preventDefault();var n=Number(t.target.id),a=e.state.movies.filter((function(e){return e.episode_id===n}));console.log("targetMovie",a);var r=a.map((function(e){return e.characters}));e.setState({isOpen:!e.state.isOpen,movieID:n,targetMovie:a,charactersFromSelectedMovie:r})},e}return Object(s.a)(n,[{key:"componentDidMount",value:function(){var e=this;f().then((function(t){e.setState({movies:t})}))}},{key:"componentDidUpdate",value:function(e,t){var n=this;if(t.searchQuery!==this.state.searchQuery){this.searchMovies(this.state.searchQuery),this.toggleSortMovies();var a=this.state.movies.filter((function(e){return e.title.toLowerCase().includes(n.state.searchQuery.toLowerCase())}));this.setState({foundMovies:a})}}},{key:"sortMovies",value:function(){var e=this.state.movies,t=e;t=this.state.isSorted?e.sort((function(e,t){return e.title.toLowerCase()>t.title.toLowerCase()?1:-1})):e.sort((function(e,t){return e.title.toLowerCase()<t.title.toLowerCase()?1:-1})),this.setState({isSorted:!this.state.isSorted,sortedMovies:t});var n=this.state.foundMovies,a=n;a=this.state.isSorted?n.sort((function(e,t){return e.title.toLowerCase()>t.title.toLowerCase()?1:-1})):n.sort((function(e,t){return e.title.toLowerCase()<t.title.toLowerCase()?1:-1})),this.setState({isSorted:!this.state.isSorted,sortedMovies:a})}},{key:"render",value:function(){var e=this.state,t=e.movies,n=e.searchQuery,o=e.foundMovies,i=e.isOpen,c=e.movieID,s=e.targetMovie,l=e.charactersFromSelectedMovie;return r.a.createElement(a.Fragment,null,r.a.createElement("header",null,r.a.createElement("h1",null,"The Star Wars movies")),r.a.createElement("main",{className:B.a.conteiner},r.a.createElement(C,{handleChange:this.handleChange,handleSubmit:this.handleSubmit,searchQuery:n,toggleSortMovies:this.toggleSortMovies.bind(this)}),r.a.createElement(Q,{isOpen:i,movies:t,foundMovies:o,handleOpenItem:this.handleOpenItem,movieID:c,targetMovie:s,charactersFromSelectedMovie:l})))}}]),n}(a.Component),P=n(52),A=n.n(P);var J=function(){return r.a.createElement("div",{className:A.a.conteiner},r.a.createElement(N,null))};n(85),n(86),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(J,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[59,1,2]]]);
//# sourceMappingURL=main.623e5c1c.chunk.js.map