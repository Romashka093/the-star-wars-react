(this["webpackJsonpthe-star-wars-react"]=this["webpackJsonpthe-star-wars-react"]||[]).push([[0],{64:function(e,t,a){e.exports={conteiner:"App_conteiner__1Rp_J"}},70:function(e,t,a){e.exports=a(98)},96:function(e,t,a){},97:function(e,t,a){},98:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(9),i=a.n(o),c=a(35),l=a(36),s=a(47),u=a(46),m=a(14),p=a.n(m),d=a(26),h=a(32),v=a.n(h);v.a.defaults.baseURL="https://swapi.dev/api/";var f=function(){return Object(d.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.a.get("films/?format=json").then((function(e){return e.data.results}));case 3:return t=e.sent,e.abrupt("return",t);case 7:throw e.prev=7,e.t0=e.catch(0),console.log(e.t0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))()},g=function(e){return Object(d.a)(p.a.mark((function t(){var a;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,v.a.get("people/".concat(e,"?format=json")).then((function(e){return e.data}));case 3:return a=t.sent,t.abrupt("return",a);case 7:throw t.prev=7,t.t0=t.catch(0),console.log(t.t0),t.t0;case 11:case"end":return t.stop()}}),t,null,[[0,7]])})))()},E=function(e){return Object(d.a)(p.a.mark((function t(){var a;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,v.a.get("planets/".concat(e,"?format=json")).then((function(e){return e.data}));case 3:return a=t.sent,console.log(a),t.abrupt("return",a);case 8:t.prev=8,t.t0=t.catch(0);case 10:case"end":return t.stop()}}),t,null,[[0,8]])})))()},M=a(143),S=a(146),y=Object(M.a)((function(e){return{root:{"& > *":{margin:e.spacing(1)},"& .MuiButton-containedPrimary":{color:"#151515",backgroundColor:"#EEDB00"}}}}));function b(e){var t=e.name,a=e.toggleSortMovies,n=y();return r.a.createElement("div",{className:n.root},r.a.createElement(S.a,{variant:"contained",color:"primary",href:"#contained-buttons",onClick:a},t))}var w=a(156),O=Object(M.a)((function(e){return{root:{"& > *":{margin:e.spacing(1),width:"20ch"},"& .MuiFormLabel-root":{fontFamily:"PollerOne"},"& .MuiInputBase-input":{fontFamily:"PollerOne"},"& .Mui-focused":{color:"#EEDB00"},"& .MuiOutlinedInput-root.Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:"#EEDB00"}}}}));function C(e){var t=e.handleSubmit,a=e.placeholder,n=e.value,o=e.handleChange,i=O();return r.a.createElement("form",{className:i.root,noValidate:!0,autoComplete:"off",onClick:t},r.a.createElement(w.a,{id:"outlined-basic",variant:"outlined",value:n,autoFocus:!0,label:a,onChange:o}))}var k=function(e){var t=e.handleChange,a=e.handleSubmit,o=e.searchQuery,i=e.toggleSortMovies;return r.a.createElement(n.Fragment,null,r.a.createElement(C,{handleSubmit:a,handleChange:t,value:o,placeholder:"Enter movie name"}),r.a.createElement(b,{name:"Sort",toggleSortMovies:i}))},F=a(148),j=a(100),D=Object(M.a)((function(e){return{root:{"& > * + *":{marginLeft:e.spacing(12)},"& .MuiTypography-colorPrimary":{color:"#EEDB00"}}}}));function x(e){var t=e.name,a=e.id,n=e.handleOpenItem,o=D();return r.a.createElement(j.a,{className:o.root,onClick:n},r.a.createElement(F.a,{href:"#",id:a},t))}var I=a(150),_=a(151),L=a(152),N=a(153),Q=a(155),B=a(154),P=a(65),A=a(157),R=a(149),T=a(158),W=Object(M.a)((function(e){return{root:{width:"100%",margin:e.spacing(1)},heading:{fontSize:e.typography.pxToRem(15),flexBasis:"33.33%",flexShrink:0},secondaryHeading:{fontSize:e.typography.pxToRem(15),color:e.palette.text.secondary}}}));function z(e){var t,a=e.items,n=e.titleName,o=W(),i=r.a.useState(!1),c=Object(P.a)(i,2),l=c[0],s=c[1];return r.a.createElement("div",{className:o.root},r.a.createElement(A.a,{expanded:"panel1"===l,onChange:(t="panel1",function(e,a){s(!!a&&t)})},r.a.createElement(T.a,{"aria-controls":"panel1bh-content",id:"panel1bh-header"},r.a.createElement(j.a,{className:o.secondaryHeading},n)),r.a.createElement(R.a,null,r.a.createElement("ul",null,a.map((function(e){return r.a.createElement("li",{key:e.url},r.a.createElement(j.a,null,e.name))}))))))}var J=Object(M.a)({root:{minWidth:275,backgroundColor:"#ffd"},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},title:{fontSize:14},pos:{marginBottom:12}});function H(e){var t=e.targetMovie,a=e.characters,o=e.planets,i=J();return r.a.createElement(n.Fragment,null,t.map((function(e){return r.a.createElement(I.a,{key:e.episode_id,className:i.root},r.a.createElement(_.a,null,r.a.createElement(L.a,null,r.a.createElement(N.a,null,r.a.createElement(B.a,null,r.a.createElement(Q.a,null,"Director: "),r.a.createElement(Q.a,null,e.director)),r.a.createElement(B.a,null,r.a.createElement(Q.a,null,"Producer: "),r.a.createElement(Q.a,null,e.producer)),r.a.createElement(B.a,null,r.a.createElement(Q.a,null,"Release date: "),r.a.createElement(Q.a,null,e.release_date)))),r.a.createElement(j.a,{variant:"body2",component:"p"},e.opening_crawl),r.a.createElement(z,{items:a,titleName:"All characters"}),r.a.createElement(z,{items:o,titleName:"All planets"})))})))}var U=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={characters:[],planets:[],vehicles:[],starships:[],species:[]},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.findMovieDetails()}},{key:"findMovieDetails",value:function(){var e=Object(d.a)(p.a.mark((function e(){var t,a,n,r,o,i,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props,a=t.charactersFromSelectedMovie,n=t.planetsFromSelectedMovie,console.log(n),r=a.map((function(e){return e.replace("http://swapi.dev/api/people/","")})),o=n.map((function(e){return e.replace("http://swapi.dev/api/planets/","")})),e.next=6,Promise.all(r.map((function(e){return g(e)})));case 6:return i=e.sent,e.next=9,Promise.all(o.map((function(e){return E(e)})));case 9:c=e.sent,this.setState({characters:i,planets:c});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props.targetMovie,t=this.state,a=t.characters,o=t.planets;return r.a.createElement(n.Fragment,null,r.a.createElement(H,{targetMovie:e,characters:a,planets:o}))}}]),a}(n.Component),V=function(e){var t=e.movies,a=e.foundMovies,n=e.handleOpenItem,o=e.movieID,i=e.targetMovie,c=e.charactersFromSelectedMovie,l=e.planetsFromSelectedMovie;return r.a.createElement("ul",null,0===a.length?t.map((function(e){return r.a.createElement("li",{key:e.episode_id},r.a.createElement(x,{id:e.episode_id,handleOpenItem:n,name:e.title}),o===e.episode_id&&r.a.createElement(U,{movieID:o,targetMovie:i,charactersFromSelectedMovie:c,planetsFromSelectedMovie:l}))})):a.map((function(e){return r.a.createElement("li",{key:e.episode_id},r.a.createElement(x,{id:e.episode_id,handleOpenItem:n,name:e.title}),o===e.episode_id&&r.a.createElement(U,{movieID:o,targetMovie:i,charactersFromSelectedMovie:c,planetsFromSelectedMovie:l}))})))},$=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={movies:[],searchQuery:"",foundMovies:[],isSorted:!1,sortedMovies:[],isOpen:!1,movieID:[],targetMovie:[],charactersFromSelectedMovie:[],planetsFromSelectedMovie:[]},e.searchMovies=function(t){f(t).then((function(t){return e.setState({movies:t})}))},e.toggleSortMovies=function(){e.sortMovies()},e.handleChange=function(t){e.setState({searchQuery:t.target.value})},e.handleSubmit=function(t){t.preventDefault(),""!==e.state.searchQuery&&e.state.searchQuery},e.handleOpenItem=function(t){t.preventDefault();var a=Number(t.target.id),n=e.state.movies.filter((function(e){return e.episode_id===a})),r=n.map((function(e){return e.characters})).flat(),o=n.map((function(e){return e.planets})).flat();e.setState({isOpen:!e.state.isOpen,movieID:a,targetMovie:n,charactersFromSelectedMovie:r,planetsFromSelectedMovie:o})},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;f().then((function(t){e.setState({movies:t})}))}},{key:"componentDidUpdate",value:function(e,t){var a=this;if(t.searchQuery!==this.state.searchQuery){this.searchMovies(this.state.searchQuery),this.toggleSortMovies();var n=this.state.movies.filter((function(e){return e.title.toLowerCase().includes(a.state.searchQuery.toLowerCase())}));this.setState({foundMovies:n})}}},{key:"sortMovies",value:function(){var e=this.state.movies,t=e;t=this.state.isSorted?e.sort((function(e,t){return e.title.toLowerCase()>t.title.toLowerCase()?1:-1})):e.sort((function(e,t){return e.title.toLowerCase()<t.title.toLowerCase()?1:-1})),this.setState({isSorted:!this.state.isSorted,sortedMovies:t});var a=this.state.foundMovies,n=a;n=this.state.isSorted?a.sort((function(e,t){return e.title.toLowerCase()>t.title.toLowerCase()?1:-1})):a.sort((function(e,t){return e.title.toLowerCase()<t.title.toLowerCase()?1:-1})),this.setState({isSorted:!this.state.isSorted,sortedMovies:n})}},{key:"render",value:function(){var e=this.state,t=e.movies,a=e.searchQuery,o=e.foundMovies,i=e.movieID,c=e.targetMovie,l=e.charactersFromSelectedMovie,s=e.planetsFromSelectedMovie;return r.a.createElement(n.Fragment,null,r.a.createElement("header",null,r.a.createElement("h1",null,"The Star Wars")),r.a.createElement("main",null,r.a.createElement(k,{handleChange:this.handleChange,handleSubmit:this.handleSubmit,searchQuery:a,toggleSortMovies:this.toggleSortMovies.bind(this)}),r.a.createElement(V,{movies:t,foundMovies:o,handleOpenItem:this.handleOpenItem,movieID:i,targetMovie:c,charactersFromSelectedMovie:l,planetsFromSelectedMovie:s})))}}]),a}(n.Component),q=a(64),G=a.n(q);var K=function(){return r.a.createElement("div",{className:G.a.conteiner},r.a.createElement($,null))};a(96),a(97),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(K,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[70,1,2]]]);
//# sourceMappingURL=main.87b4562e.chunk.js.map