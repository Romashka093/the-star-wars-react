(this["webpackJsonpthe-star-wars-react"]=this["webpackJsonpthe-star-wars-react"]||[]).push([[0],{126:function(e,t,a){},127:function(e,t,a){},128:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(9),i=a.n(o),c=a(15),l=a(16),s=a(21),u=a(19),m=a(14),p=a.n(m),d=a(31),h=a(37),v=a.n(h);v.a.defaults.baseURL="https://swapi.dev/api/";var f=function(){return Object(d.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.a.get("films/?format=json").then((function(e){return e.data.results}));case 3:return t=e.sent,e.abrupt("return",t);case 7:throw e.prev=7,e.t0=e.catch(0),console.log(e.t0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))()},g=function(e){return Object(d.a)(p.a.mark((function t(){var a;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,v.a.get("people/".concat(e,"?format=json")).then((function(e){return e.data}));case 3:return a=t.sent,t.abrupt("return",a);case 7:throw t.prev=7,t.t0=t.catch(0),console.log(t.t0),t.t0;case 11:case"end":return t.stop()}}),t,null,[[0,7]])})))()},E=function(e){return Object(d.a)(p.a.mark((function t(){var a;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,v.a.get("planets/".concat(e,"?format=json")).then((function(e){return e.data}));case 3:return a=t.sent,t.abrupt("return",a);case 7:throw t.prev=7,t.t0=t.catch(0),console.log(t.t0),t.t0;case 11:case"end":return t.stop()}}),t,null,[[0,7]])})))()},b=a(172),M=a(185),S=a(175),y=Object(b.a)({root:{"& .MuiButton-containedPrimary":{color:"#151515",backgroundColor:"#FFE81F",fontFamily:"PollerOne"},"& .MuiButton-root":{padding:"16px"}}});function O(e){var t=e.name,a=e.toggleSortMovies,n=y();return r.a.createElement("div",{className:n.root},r.a.createElement(S.a,{variant:"contained",color:"primary",href:"#contained-buttons",onClick:a},t))}var w=a(69),x=a.n(w),j=Object(b.a)((function(e){return{root:{"& > *":{width:"200px"},"& .MuiFormLabel-root":{borderColor:"#EEDB00",fontFamily:"Lato",color:"#eeda0085"},"& .MuiInputBase-input":{fontWeight:300,color:"#EEDB00"},"& .Mui-focused":{color:"#EEDB00"},"& .MuiOutlinedInput-root .MuiOutlinedInput-notchedOutline":{borderColor:"#EEDB00"}}}}));function k(e){var t=e.handleSubmit,a=e.placeholder,n=e.value,o=e.handleChange,i=e.toggleSortMovies,c=j();return r.a.createElement("form",{className:x.a.formWrap,noValidate:!0,autoComplete:"off",onClick:t},r.a.createElement(M.a,{className:c.root,id:"outlined-basic",variant:"outlined",value:n,autoFocus:!0,label:a,onChange:o}),r.a.createElement(O,{name:"Sort",toggleSortMovies:i}))}var C=function(e){var t=e.handleChange,a=e.handleSubmit,o=e.searchQuery,i=e.toggleSortMovies;return r.a.createElement(n.Fragment,null,r.a.createElement(k,{handleSubmit:a,handleChange:t,value:o,placeholder:"Enter movie name",toggleSortMovies:i}))},F=a(177),_=a(130),D=Object(b.a)((function(e){return{root:{"& > * + *":{marginLeft:e.spacing(12)},"& .MuiTypography-colorPrimary":{color:"#EEDB00",width:"fit-content",margin:"0 auto",fontSize:"18px",lineHeight:"2",fontFamily:"PollerOne"}}}}));function I(e){var t=e.name,a=e.id,n=e.handleOpenItem,o=D();return r.a.createElement(_.a,{className:o.root},r.a.createElement(F.a,{href:"#",id:a,onClick:n},t))}var N=a(27),B=a(179),L=a(180),z=a(181),Q=a(182),T=a(184),P=a(183),W=a(74),A=a(186),R=a(178),J=a(187),H=a(70),U=a.n(H),V=Object(b.a)((function(e){return{root:{margin:e.spacing(1),"& .MuiPaper-root":{backgroundColor:"#ffd31d"}},heading:{fontSize:e.typography.pxToRem(15),flexBasis:"33.33%",flexShrink:0},secondaryHeading:{fontSize:e.typography.pxToRem(15),color:e.palette.text.secondary}}}));function $(e){var t,a=e.items,n=e.titleName,o=V(),i=r.a.useState(!1),c=Object(W.a)(i,2),l=c[0],s=c[1];return r.a.createElement("div",{className:o.root},r.a.createElement(A.a,{expanded:"panel1"===l,onChange:(t="panel1",function(e,a){s(!!a&&t)})},r.a.createElement(J.a,{expandIcon:r.a.createElement(U.a,null),"aria-controls":"panel1bh-content",id:"panel1bh-header"},r.a.createElement(_.a,{className:o.secondaryHeading},n)),r.a.createElement(R.a,null,r.a.createElement("ul",null,a.map((function(e){return r.a.createElement("li",{key:e.url},r.a.createElement(_.a,null,e.name))}))))))}var q=Object(b.a)((function(e){var t,a,n;return{root:{"& > *":(t={margin:e.spacing(1),width:"280px",fontSize:"16px"},Object(N.a)(t,e.breakpoints.up("sm"),{width:"500px",fontSize:"18px"}),Object(N.a)(t,e.breakpoints.up("md"),{width:"700px",fontSize:"24px"}),t),"& .MuiTypography-root":(a={margin:"8px",fontSize:"16px"},Object(N.a)(a,e.breakpoints.up("sm"),{fontSize:"18px"}),Object(N.a)(a,e.breakpoints.up("md"),{fontSize:"24px"}),a),"& .MuiTableCell-root":(n={fontSize:"16px"},Object(N.a)(n,e.breakpoints.up("sm"),{fontSize:"18px"}),Object(N.a)(n,e.breakpoints.up("md"),{fontSize:"24px"}),n),minWidth:275,backgroundColor:"#FFE81F85"},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},title:{fontSize:14},pos:{marginBottom:12}}}));function G(e){var t=e.targetMovie,a=e.characters,o=e.planets,i=q();return r.a.createElement(n.Fragment,null,t.map((function(e){return r.a.createElement(B.a,{key:e.episode_id,className:i.root},r.a.createElement(L.a,null,r.a.createElement(z.a,null,r.a.createElement(Q.a,null,r.a.createElement(P.a,null,r.a.createElement(T.a,null,"Director: "),r.a.createElement(T.a,null,e.director)),r.a.createElement(P.a,null,r.a.createElement(T.a,null,"Producer: "),r.a.createElement(T.a,null,e.producer)),r.a.createElement(P.a,null,r.a.createElement(T.a,null,"Release date: "),r.a.createElement(T.a,null,e.release_date)))),r.a.createElement(_.a,{variant:"body2",component:"p"},e.opening_crawl),r.a.createElement($,{items:a,titleName:"All characters"}),r.a.createElement($,{items:o,titleName:"All planets"})))})))}var K=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={characters:[],planets:[]},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.findMovieDetails()}},{key:"findMovieDetails",value:function(){var e=Object(d.a)(p.a.mark((function e(){var t,a,n,r,o,i,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props,a=t.charactersFromSelectedMovie,n=t.planetsFromSelectedMovie,r=a.map((function(e){return e.replace("http://swapi.dev/api/people/","")})),o=n.map((function(e){return e.replace("http://swapi.dev/api/planets/","")})),e.next=5,Promise.all(r.map((function(e){return g(e)})));case 5:return i=e.sent,e.next=8,Promise.all(o.map((function(e){return E(e)})));case 8:c=e.sent,this.setState({characters:i,planets:c});case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props.targetMovie,t=this.state,a=t.characters,o=t.planets;return r.a.createElement(n.Fragment,null,r.a.createElement(G,{targetMovie:e,characters:a,planets:o}))}}]),a}(n.Component),X=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){var e=this.props,t=e.movies,a=e.foundMovies,n=e.handleOpenItem,o=e.movieID,i=e.targetMovie,c=e.isOpen,l=e.charactersFromSelectedMovie,s=e.planetsFromSelectedMovie;return r.a.createElement("ul",null,0===a.length?t.map((function(e){return r.a.createElement("li",{key:e.episode_id},r.a.createElement(I,{id:e.episode_id,handleOpenItem:n,name:e.title}),!c&&o===e.episode_id&&r.a.createElement(K,{movieID:o,targetMovie:i,charactersFromSelectedMovie:l,planetsFromSelectedMovie:s}))})):a.map((function(e){return r.a.createElement("li",{key:e.episode_id},r.a.createElement(I,{id:e.episode_id,handleOpenItem:n,name:e.title}),!c&&o===e.episode_id&&r.a.createElement(K,{movieID:o,targetMovie:i,charactersFromSelectedMovie:l,planetsFromSelectedMovie:s}))})))}}]),a}(n.Component),Y=a(71),Z=a.n(Y),ee=a(72),te=a.n(ee),ae=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={},e}return Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement(Z.a,{className:te.a.louder,type:"ThreeDots",color:"#EEDB00",height:100,width:100,timeout:3e6})}}]),a}(n.Component),ne=a(50),re=a.n(ne),oe=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={movies:[],searchQuery:"",foundMovies:[],isSorted:!1,sortedMovies:[],isOpen:!0,movieID:[],targetMovie:[],charactersFromSelectedMovie:[],planetsFromSelectedMovie:[]},e.searchMovies=function(t){f(t).then((function(t){return e.setState({movies:t})}))},e.toggleSortMovies=function(){e.sortMovies()},e.handleChange=function(t){e.setState({searchQuery:t.target.value})},e.handleSubmit=function(t){t.preventDefault(),""!==e.state.searchQuery&&e.state.searchQuery},e.handleOpenItem=function(t){t.preventDefault();var a=Number(t.target.id),n=e.state.movies.filter((function(e){return e.episode_id===a})),r=n.map((function(e){return e.characters})).flat(),o=n.map((function(e){return e.planets})).flat();e.setState({isOpen:!e.state.isOpen,movieID:a,targetMovie:n,charactersFromSelectedMovie:r,planetsFromSelectedMovie:o})},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;f().then((function(t){e.setState({movies:t})}))}},{key:"componentDidUpdate",value:function(e,t){var a=this;if(t.searchQuery!==this.state.searchQuery){this.searchMovies(this.state.searchQuery),this.toggleSortMovies();var n=this.state.movies.filter((function(e){return e.title.toLowerCase().includes(a.state.searchQuery.toLowerCase())}));this.setState({foundMovies:n})}}},{key:"sortMovies",value:function(){var e=this.state.movies,t=e;t=this.state.isSorted?e.sort((function(e,t){return e.title.toLowerCase()>t.title.toLowerCase()?1:-1})):e.sort((function(e,t){return e.title.toLowerCase()<t.title.toLowerCase()?1:-1})),this.setState({isSorted:!this.state.isSorted,sortedMovies:t});var a=this.state.foundMovies,n=a;n=this.state.isSorted?a.sort((function(e,t){return e.title.toLowerCase()>t.title.toLowerCase()?1:-1})):a.sort((function(e,t){return e.title.toLowerCase()<t.title.toLowerCase()?1:-1})),this.setState({isSorted:!this.state.isSorted,sortedMovies:n})}},{key:"render",value:function(){var e=this.state,t=e.movies,a=e.searchQuery,o=e.foundMovies,i=e.movieID,c=e.targetMovie,l=e.isOpen,s=e.charactersFromSelectedMovie,u=e.planetsFromSelectedMovie;return r.a.createElement(n.Fragment,null,r.a.createElement("header",null,r.a.createElement("h1",{className:re.a.title},"The Star Wars")),r.a.createElement("main",{className:re.a.container},r.a.createElement(C,{handleChange:this.handleChange,handleSubmit:this.handleSubmit,searchQuery:a,toggleSortMovies:this.toggleSortMovies.bind(this)}),0===t.length?r.a.createElement(ae,null):r.a.createElement(X,{isOpen:l,movies:t,foundMovies:o,handleOpenItem:this.handleOpenItem,movieID:i,targetMovie:c,charactersFromSelectedMovie:s,planetsFromSelectedMovie:u})))}}]),a}(n.Component),ie=a(73),ce=a.n(ie);var le=function(){return r.a.createElement("div",{className:ce.a.conteiner},r.a.createElement(oe,null))};a(126),a(127),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(le,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},50:function(e,t,a){e.exports={conteiner:"Movie_conteiner__3OBwt",title:"Movie_title__3TfTe"}},69:function(e,t,a){e.exports={formWrap:"Input_formWrap__1MMJE"}},72:function(e,t,a){e.exports={louder:"TitlePage_louder__1nTlP"}},73:function(e,t,a){e.exports={conteiner:"App_conteiner__1Rp_J"}},79:function(e,t,a){e.exports=a(128)}},[[79,1,2]]]);
//# sourceMappingURL=main.c6234674.chunk.js.map